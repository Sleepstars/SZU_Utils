# 局域网设备扫描工具

这个工具集可以帮助你扫描局域网中的活跃设备，特别是针对 192.168.3.1/24 网段。

## 文件说明

### 1. LanScan.py
主要的扫描类，包含基础的ping扫描功能。

### 2. quick_scan.py
快速扫描脚本，专门用于扫描 192.168.3.0/24 网段。

### 3. advanced_scan.py
高级扫描工具，包含ping扫描和端口扫描功能。

## 使用方法

### 快速扫描
```bash
# 直接运行快速扫描
python quick_scan.py
```

### 基础扫描
```bash
# 扫描默认网段 (192.168.3.0/24)
python LanScan.py

# 扫描指定网段
python LanScan.py -n 192.168.1.0/24

# 设置超时时间和并发数
python LanScan.py -t 2 -w 100

# 保存结果到文件
python LanScan.py -o scan_results.txt

# 不显示进度
python LanScan.py --no-progress
```

### 高级扫描（包含端口扫描）
```bash
# 运行高级扫描
python advanced_scan.py
```

## 功能特性

### 基础功能
- ✅ 多线程并发扫描，速度快
- ✅ 自动检测操作系统，适配Windows/Linux/macOS
- ✅ 显示主机名和响应时间
- ✅ 支持自定义网段、超时时间、并发数
- ✅ 结果自动排序和保存

### 高级功能
- ✅ 端口扫描（常用端口：22, 23, 53, 80, 135, 139, 443, 445, 993, 995, 1723, 3389, 5900, 8080）
- ✅ 服务识别（SSH, HTTP, HTTPS, RDP, VNC等）
- ✅ 详细扫描报告

## 输出示例

### 基础扫描输出
```
开始扫描网段: 192.168.3.0/24
总共需要扫描 254 个IP地址
--------------------------------------------------
✓ 192.168.3.1 - router.local (2.3ms)
✓ 192.168.3.100 - PC-001 (1.8ms)
✓ 192.168.3.150 - Unknown (5.2ms)
进度: 50/254 (19.7%)
...

============================================================
扫描完成！发现 3 个活跃设备:
============================================================
IP地址          主机名                    响应时间
------------------------------------------------------------
192.168.3.1     router.local             2.3ms
192.168.3.100   PC-001                   1.8ms
192.168.3.150   Unknown                  5.2ms

扫描耗时: 12.45 秒
```

### 高级扫描输出
```
详细扫描结果 - 发现 3 个设备:
================================================================================

IP地址: 192.168.3.1
主机名: router.local
响应时间: 2.3ms
开放端口: 22(SSH), 80(HTTP), 443(HTTPS)
----------------------------------------

IP地址: 192.168.3.100
主机名: PC-001
响应时间: 1.8ms
开放端口: 135(RPC), 445(SMB), 3389(RDP)
----------------------------------------
```

## 参数说明

### LanScan.py 参数
- `-n, --network`: 要扫描的网段 (默认: 192.168.3.0/24)
- `-t, --timeout`: ping超时时间（秒） (默认: 1)
- `-w, --workers`: 最大并发线程数 (默认: 50)
- `-o, --output`: 保存结果到文件
- `--no-progress`: 不显示扫描进度

## 注意事项

1. **权限要求**: 在某些系统上可能需要管理员权限才能执行ping命令
2. **防火墙**: 目标设备的防火墙可能会阻止ping或端口扫描
3. **网络负载**: 高并发扫描可能会对网络造成一定负载，建议根据网络情况调整并发数
4. **扫描时间**: 网段越大，扫描时间越长。254个IP地址通常需要10-30秒

## 故障排除

### 常见问题
1. **没有发现任何设备**: 检查网段设置是否正确，确认目标网段确实有活跃设备
2. **扫描速度慢**: 可以增加并发数(-w参数)或减少超时时间(-t参数)
3. **权限错误**: 在Linux/macOS上可能需要使用sudo运行
4. **导入错误**: 确保所有文件都在同一目录下

### 性能优化建议
- 对于快速扫描，可以设置较短的超时时间(0.5-1秒)
- 增加并发数可以提高扫描速度，但不要超过系统限制
- 如果只需要ping扫描，使用quick_scan.py会更快
